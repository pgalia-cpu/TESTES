<style>
  /* ESTILOS DO GUIA */
  .guia-modal-box { 
    width: 800px; max-width: 95%; border-radius: 16px; border: none; padding: 0; 
    box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); 
  }
  
  .guia-header { 
    padding: 20px 30px; border-bottom: 1px solid #e2e8f0; 
    display: flex; justify-content: space-between; align-items: center; 
  }
  
  .guia-hero { 
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); 
    padding: 20px; border-radius: 12px; margin-bottom: 25px; border: 1px solid #bfdbfe; 
  }
  
  .guia-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
  
  .guia-card { 
    background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; padding: 15px; 
    box-shadow: 0 1px 2px rgba(0,0,0,0.05); 
  }
  .guia-card h4 { margin: 0 0 10px 0; color: #1e293b; display: flex; align-items: center; gap: 8px; }
  .guia-list { margin: 0; padding-left: 20px; font-size: 0.85rem; line-height: 1.6; color: #475569; }
  
  .guia-tag { background: #f1f5f9; padding: 2px 6px; border-radius: 4px; font-family: monospace; font-size: 0.8em; border: 1px solid #e2e8f0; }
</style>

<dialog id="guia-modal" class="guia-modal-box">
  <div class="guia-header">
    <h2 style="margin:0; font-size:1.3rem; color:#1e293b;">üìò Manual do EUM Manager</h2>
    <button onclick="document.getElementById('guia-modal').close()" style="border:none; background:none; font-size:1.5rem; cursor:pointer; color:#94a3b8;">&times;</button>
  </div>
  
  <div style="padding: 30px; overflow-y: auto; max-height: 70vh;">
    
    <div class="guia-hero">
      <h3 style="margin-top:0; color:#1e40af;">üöÄ O que √© esta ferramenta?</h3>
      <p style="margin:0; font-size:0.9rem; color:#1e3a8a;">
        O EUM Manager √© um "c√©rebro cl√≠nico" que processa dados hospitalares brutos e os transforma em insights de <strong>Efic√°cia</strong> e <strong>Seguran√ßa</strong>. 
      </p>
    </div>

    <div class="guia-grid">
      
      <div class="guia-card">
        <h4>üß≠ Explorador & Sandbox</h4>
        <ul class="guia-list">
          <li><strong>Gr√°ficos:</strong> Crie visualiza√ß√µes r√°pidas de qualquer coluna.</li>
          <li><strong>Vari√°veis Virtuais:</strong> O sistema calcula sozinho:
            <br><span class="guia-tag">_IDADE_ANOS</span> (Idade exata)
          </li>
          <li><strong>Calculadora:</strong> Crie regras personalizadas. Ex: 
            <br><code>([_IDADE_ANOS] < 2) ? 85 : [ALTURA]</code>
          </li>
        </ul>
      </div>

      <div class="guia-card">
        <h4>‚öôÔ∏è Motor H√≠brido</h4>
        <ul class="guia-list">
          <li><strong>Renal Inteligente:</strong> Tenta calcular a TFG. Se faltar dados (ex: altura), <strong>busca automaticamente</strong> a coluna importada para n√£o dar erro.</li>
          <li><strong>Datas PT-BR:</strong> Suporte nativo para formato <code>31/08/2025</code>.</li>
        </ul>
      </div>

      <div class="guia-card">
        <h4>‚ú® Wizard Inteligente</h4>
        <ul class="guia-list">
          <li><strong>Modo H√≠brido:</strong> 
            <br>üìÇ <strong>Upload:</strong> Para ficheiros pequenos.
            <br>üìë <strong>Aba Existente:</strong> Para ficheiros gigantes (+50k linhas).
          </li>
        </ul>
      </div>

      <div class="guia-card" style="border-color: #fca5a5; background: #fff1f2;">
        <h4 style="color: #9f1239;">‚ö†Ô∏è Limita√ß√µes (Cota 1 RPM)</h4>
        <ul class="guia-list">
          <li><strong>Cota da IA:</strong> A sua chave tem um limite de <strong>1 pedido por minuto</strong>.</li>
          <li>Se vir um erro "429", espere 60 segundos antes de tentar novamente.</li>
          <li>O sistema foi otimizado ("Modo Sniper") para fazer tudo em apenas 1 clique.</li>
        </ul>
      </div>

    </div>

    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #e2e8f0; font-size: 0.8rem; color: #94a3b8; text-align: center;">
      Vers√£o 4.0 (Master Edition)
    </div>
  </div>
</dialog>
